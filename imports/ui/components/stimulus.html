<template name="bars">
    {{#with data}}
        <g id="region">
            <g id="stimulus-at-{{location.x}}-{{location.y}}">
                {{#each range 0 (gratings max) 1}}
                    {{> bar (dimensions)}}
                {{/each}}
            </g>

            <rect class="horizontal-{{location.x}}-of-{{grid.x}}
            vertical-{{location.y}}-of-{{grid.y}} region" fill="transparent"
                  height="{{max}}" width="{{max}}"></rect>
        </g>
    {{/with}}
</template>

<template name="bar">
    <rect class="{{orientation.value}}-{{orientation.units}} bar"
          fill="transparent" height="{{span}}" width="{{weight}}"></rect>
</template>
